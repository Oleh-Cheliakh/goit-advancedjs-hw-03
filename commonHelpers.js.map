{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_pT8vod6SPuMDUj6AprUg0TPq3KAfICEEzDfWkD2UaZt3zafba4uyWLTK5IrrVsmz';\n\nexport function fetchBreeds() {\n  const catBreeds = [];\n  return axios({\n    method: 'get',\n    url: 'https://api.thecatapi.com/v1/breeds',\n  }).then(response => {\n    response.data.forEach(({ id, name }) => {\n      catBreeds.push({\n        id,\n        name,\n      });\n    });\n    return catBreeds;\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios({\n    method: 'get',\n    url: 'https://api.thecatapi.com/v1/images/search',\n    params: {\n      breed_ids: breedId,\n    },\n  }).then(({ data }) => {\n    return {\n      image: data[0].url,\n      description: data[0].breeds[0].description,\n      name: data[0].breeds[0].name,\n      temperament: data[0].breeds[0].temperament,\n    };\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst optionSelecter = document.querySelector('.breed-select');\nconst loaderElement = document.querySelector('.loader');\n\noptionSelecter.classList.add('hidden');\n\nfunction addOptions() {\n  fetchBreeds().then(data => {\n    const selectorMarkup = data\n      .map(breed => `<option value=${breed.id}>${breed.name}</option>`)\n      .join('');\n\n    optionSelecter.insertAdjacentHTML('afterbegin', selectorMarkup);\n    optionSelecter.classList.remove('hidden');\n    loaderElement.classList.add('hidden');\n  });\n}\n\naddOptions();\n\noptionSelecter.addEventListener('change', event => {\n  const catInfoElement = document.querySelector('.cat-info');\n  catInfoElement.innerHTML = '';\n  loaderElement.classList.remove('hidden');\n  fetchCatByBreed(event.target.value).then(\n    ({ image, description, name, temperament }) => {\n      catInfoElement.insertAdjacentHTML(\n        'afterbegin',\n        `<img class=\"cat-info-image\" src=\"${image}\" alt=\"Cat of ${name} breed\" width=\"300\" height=\"300\" />\n      <div class=\"cat-info-text\">\n        <h1>${name}</h1>\n        <p>${description}</p>\n        <p><b>Temperament:</b> ${temperament}</p>\n      </div>`\n      );\n      loaderElement.classList.add('hidden');\n    }\n  );\n});\n"],"names":["axios","fetchBreeds","catBreeds","response","id","name","fetchCatByBreed","breedId","data","optionSelecter","loaderElement","addOptions","selectorMarkup","breed","event","catInfoElement","image","description","temperament"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,SAASC,GAAc,CAC5B,MAAMC,EAAY,CAAA,EAClB,OAAOF,EAAM,CACX,OAAQ,MACR,IAAK,qCACT,CAAG,EAAE,KAAKG,IACNA,EAAS,KAAK,QAAQ,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAI,IAAO,CACtCH,EAAU,KAAK,CACb,GAAAE,EACA,KAAAC,CACR,CAAO,CACP,CAAK,EACMH,EACR,CACH,CAEO,SAASI,EAAgBC,EAAS,CACvC,OAAOP,EAAM,CACX,OAAQ,MACR,IAAK,6CACL,OAAQ,CACN,UAAWO,CACZ,CACF,CAAA,EAAE,KAAK,CAAC,CAAE,KAAAC,MACF,CACL,MAAOA,EAAK,GAAG,IACf,YAAaA,EAAK,GAAG,OAAO,GAAG,YAC/B,KAAMA,EAAK,GAAG,OAAO,GAAG,KACxB,YAAaA,EAAK,GAAG,OAAO,GAAG,WACrC,EACG,CACH,CClCA,MAAMC,EAAiB,SAAS,cAAc,eAAe,EACvDC,EAAgB,SAAS,cAAc,SAAS,EAEtDD,EAAe,UAAU,IAAI,QAAQ,EAErC,SAASE,GAAa,CACpBV,EAAa,EAAC,KAAKO,GAAQ,CACzB,MAAMI,EAAiBJ,EACpB,IAAIK,GAAS,iBAAiBA,EAAM,MAAMA,EAAM,eAAe,EAC/D,KAAK,EAAE,EAEVJ,EAAe,mBAAmB,aAAcG,CAAc,EAC9DH,EAAe,UAAU,OAAO,QAAQ,EACxCC,EAAc,UAAU,IAAI,QAAQ,CACxC,CAAG,CACH,CAEAC,IAEAF,EAAe,iBAAiB,SAAUK,GAAS,CACjD,MAAMC,EAAiB,SAAS,cAAc,WAAW,EACzDA,EAAe,UAAY,GAC3BL,EAAc,UAAU,OAAO,QAAQ,EACvCJ,EAAgBQ,EAAM,OAAO,KAAK,EAAE,KAClC,CAAC,CAAE,MAAAE,EAAO,YAAAC,EAAa,KAAAZ,EAAM,YAAAa,CAAW,IAAO,CAC7CH,EAAe,mBACb,aACA,oCAAoCC,kBAAsBX;AAAA;AAAA,cAEpDA;AAAA,aACDY;AAAA,iCACoBC;AAAA,aAEjC,EACMR,EAAc,UAAU,IAAI,QAAQ,CACrC,CACL,CACA,CAAC"}